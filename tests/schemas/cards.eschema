abstract type Named:
    required link name -> str:
        delegated constraint unique

link deck:
    link property count -> int


link friends:
    link property nickname -> str
    # how the friend responded to requests for a favor
    #link property favor -> array<bool>


type User extending Named:
    link deck -> Card:
        cardinality := '**'

    link deck_cost := sum(__self__.deck.cost)

    link friends -> User:
        cardinality := '**'


type Card extending Named:
    required link element -> str
    required link cost -> int
    link owners := __self__.<deck[IS User]


type SpecialCard extending Card
